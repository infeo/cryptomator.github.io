"use strict";const PADDLE_ENABLE_SANDBOX=!1,PADDLE_VENDOR_ID=39223,ANDROID_PRODUCT_ID=578277;class AndroidLicense{constructor(a,b){this._form=a,this._checkoutData=b,this._paddle=$.ajax({url:'https://cdn.paddle.com/paddle/paddle.js',cache:!0,dataType:'script'}).then(()=>(PADDLE_ENABLE_SANDBOX&&window.Paddle.Environment.set('sandbox'),window.Paddle.Setup({vendor:PADDLE_VENDOR_ID}),window.Paddle))}loadPrice(){this._paddle.then(a=>{a.Product.Prices(ANDROID_PRODUCT_ID,a=>{this._checkoutData.price=a.price.gross})})}checkout(a){if(!$(this._form)[0].checkValidity()){$(this._form).find(':input').addClass('show-invalid');return}this._checkoutData.inProgress=!0,this._checkoutData.errorMessage='',this._checkoutData.success=!1,this._paddle.then(b=>{b.Checkout.open({product:ANDROID_PRODUCT_ID,email:this._checkoutData.email,allowQuantity:!1,locale:a,successCallback:a=>{this.onCheckoutSucceeded(),this.getPaddleOrderDetails(a.checkout.id)},closeCallback:()=>{this._checkoutData.inProgress=!1}})})}getPaddleOrderDetails(a){this._paddle.then(b=>{b.Order.details(a,b=>{let a=b.lockers?.[0]?.license_code;a?this._checkoutData.licenseKey=a:this._checkoutData.errorMessage='Retrieving license key failed. Please check your emails instead.'})})}onCheckoutSucceeded(){this._checkoutData.success=!0,this._checkoutData.errorMessage='',this._checkoutData.inProgress=!1}}