"use strict";const REQUEST_SUPPORTER_CERT_URL='https://store.cryptomator.org/api/desktop/request-supporter-cert';class SupporterCertificate{constructor(a,b,c){this._form=a,this._feedbackData=b,this._submitData=c}request(){if(!$(this._form)[0].checkValidity()){$(this._form).find(':input').addClass('show-invalid');return}this._feedbackData.success=!1,this._feedbackData.inProgress=!0,this._feedbackData.errorMessage='',$.ajax({url:REQUEST_SUPPORTER_CERT_URL,type:'POST',data:this._submitData}).done(a=>{this.onRequestSucceeded()}).fail(a=>{this.onRequestFailed(a.responseJSON?.message||'Requesting supporter certificate failed.')})}onRequestFailed(a){this._feedbackData.success=!1,this._feedbackData.inProgress=!1,this._feedbackData.errorMessage=a}onRequestSucceeded(){this._feedbackData.success=!0,this._feedbackData.inProgress=!1,this._feedbackData.errorMessage=''}}